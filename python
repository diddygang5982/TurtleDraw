import turtle
import math

def main():
    # Initialize turtle
    screen = turtle.Screen()
    screen.setup(450, 450)
    screen.title("Turtle Drawing")
    
    artist = turtle.Turtle()
    artist.speed(0)  # Maximum speed
    
    # Ask for input file
    filename = input("Enter the name of the input file: ")
    
    try:
        with open(filename, 'r') as file:
            total_distance = 0
            prev_position = None
            
            for line in file:
                line = line.strip()
                if not line:
                    continue
                
                parts = line.split()
                
                if parts[0].lower() == 'stop':
                    artist.penup()
                    prev_position = None
                else:
                    color = parts[0]
                    try:
                        x = int(parts[1])
                        y = int(parts[2])
                    except (IndexError, ValueError):
                        continue  # Skip malformed lines
                    
                    artist.pencolor(color)
                    
                    if prev_position is not None:
                        # Calculate distance between previous and current point
                        distance = math.sqrt((x - prev_position[0])**2 + (y - prev_position[1])**2)
                        total_distance += distance
                        artist.pendown()
                    else:
                        artist.penup()
                    
                    artist.goto(x, y)
                    prev_position = (x, y)
            
            # Display total distance at bottom right
            artist.penup()
            artist.goto(180, -200)
            artist.write(f"Total distance: {total_distance:.2f}", align="right", font=("Arial", 10, "normal"))
            
    except FileNotFoundError:
        print(f"Error: File '{filename}' not found.")
        return
    
    # Wait for user to press enter before closing
    input("Press Enter to close the window...")
    turtle.bye()

if __name__ == "__main__":
    main()
